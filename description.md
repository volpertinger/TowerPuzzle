# Описание программы

## Краткое описание логики

### Класс __Cell 

Этот класс используется для представления клетки в игровом поле и содержит функции для работы с клетками.
Содержит поле массива, в котором хранятся возможные числа для клетки.

#### Функция __str__ 

Реализована для строкового представления клетки. Клетка представляется ввиде [. . .], где вместо точек 
стоит N символов (N - размер игры) таких, что: символ = "-", если число в этой клетке стоять не может
и символ является числом, если это число может стоять в клетке. 

#### Функция __int__

Если в клетке стоит только одно число, то возвращаем его. Если несколько чисел может стоять в клетке, то
возвращаем 0.

#### Функция __eq__

Сравнивает клетки между собой и возвращает True, если клекти равны и False иначе.

#### Функция __bool__

Возвращает True, если в клетке стоит одно число и False иначе.

#### Функция set

Оставляет в клетке только заданное число, остальные убирает.

#### Функция remove

Убирает из клетки только заданное число.

#### Функция get_not_zeros

Возвращает все числа, которые могут стоять в клетке.

### Класс TowerPuzzle

Представляет собой поле и функции для работы с ним, решения головоломки. Сожержит следующие поля:

1. Четыре массива видимостей слева, сверху, справа, снизу.
2. Размер поля
3. Само поле, которое представляет собой двумерный массив клеток

#### Функция __str__

Нужна для наглядного представления поля со всеми видимостями и возможными значениями в клетках.

#### Функция get_field_from_arrray

Принимает на вход двумерный массив целых чисел и возвращает двумерный массив клеток 
(числу 0 во входном массиве соответствует клетка со всеми возможными числами, другим числам - клетка
с одним возможным заданным числом). Нужна для того, чтобы менее громоздко создавать поля.

#### Функция __get_right_vector_from_possible

принимает на вход матрицу из векторов клеток (эти вектора являются всеми возможными комбинациями строки или транспонированного столбца, которые получаются из другой функции) и две крайние видимости.
Возвращает матрицу клеток, в котрой  каждая строка является верной по проверке видимостей и отсутствия дублей.

#### Функция __get_cell_vector_from_matrix

принимает на вход матрицу из векторов клеток и возвращает один вектор, состоящий из клеток, который, по сути, является обобщением матрицы. Т.е. эта функции их возможных комбинаций вектора делает вектор
клеток, в которых, в зависимости от исходной матрицы, на определенных позициях в клетках возможны определенные значения.

#### Функция get_field_string

Эта функция нужная для упрощенного представления поля головоломки ввиде строки. На выходе получается строчное представление матрицы, где последовательно выписаны ее элементы, причем если число в клетке определено однозначно, то оно и ставится, а если есть несколько вариантов для клетки, то ставится на соответственную позицию 0.

#### Функции __count_visibility_[left/right/up/down]

Принимает на вход индекс и считает текущую видимость в нужной строке\столбце в направлении, зависящем от функции.

#### Функция __count_unfilled_cells_[horizontal/vertical]

Принимает на вход индекс и считает количество клеток в нужной строке\столбце, в которых однозначно не определено число.

#### Функция __count_brute_force_variants

Возвращает число вариантов для перебора для текущего состояния поля для первой клетки (обход матрицы слева направо и сверху вниз), значение для которой не определено.

#### Функция __is_unique_[row/column]

Получает на вход строку\стлбец и возвращает True, если в векторе нет повторяющихся клеток с точно определенными значениями.

#### Функция __is_solved

Проверяет, решена ли игра по текущему полю. Возвращает True, если игра решена и False иначе

#### Функция __is_correct

Проверяет текущее поле на корректность (здесь, в отличие от предыдущей функции, учитывается, что клетки могут быть не заполнены)

#### Функция __set

Принимает на вход индексы и число, которое нужно поставить в клетку по нужным индексам. Если значение в клетке уже определено, то ничего функция не делает. Иначе - ставит число.

#### Функция __remove

Принимает на вход индексы и число, которое нужно удалить из клетки. Если значение в клетке определено, то возвращает False. Иначе - удаляет число по индексам.

#### Функция __remove_higher

Принимает на вход индексы и число. И вызывает функцию "__remove"__ для всех чисел, больших заданного
